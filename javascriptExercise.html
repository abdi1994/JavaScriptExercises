<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

<p> Javascript Exercise 1 </p>

<script = "Coding Challenge 1"> 
		var tester = {}
		a=5
		//Shorthand if statement
		console.log(a == 5 ? 1 : 3)
	  var myVariableChallenge1 = 1

	  document.write(myVariableChallenge1)
	  //window.alert(myVariableChallenge1)
	  //console.log(myVariableChallenge1)
	  
	  function squareOfNumber(num1) {
		  console.log("The square number of " + num1 + " is " + num1 * num1)
	  	  return num1 * num1;
	  }

	  function sumOfValues(num1, num2, num3) {
		  var x =parseInt(num1) + parseInt(num2) + parseInt(num2)
		  console.log("Sum of the 3 numbers is: " + x)
	  	  return num1 + num2 + num3
	  }

	  var personObject = {
	  	  name: "Test",
		  age: 22,
		  occupation: "Test1",
	  }


	  
	  function outputPerson() {
	  	  console.log(personObject.name)
		  console.log(personObject.age)
		  console.log(personObject.occupation)
	  }


	  function updatePersonDetail(variableUpdate, newDetail) {
		switch(variableUpdate) {
			case 'occupation' : personObject.occupation = newDetail
			break;
			case 'name' : personObject.name = newDetail
			break;
			case 'age' : personObject.age = newDetail
			break;
		}
	  }

	  function increaseAge() {
	  	  personObject.age += 1
		  console.log(personObject.age)
	  }

	  var quote = "He said 'My name is elliot'"

	  function stringToUpper() {
	  var res = quote.toUpperCase();
	  	  console.log(res)
	  }

	  var myList = ['Test1','Test2','Test3'];

	  function printArray() {
	  	  console.log(myList)
	  }

	  function addToArray() {
	  myList[myList.length] = 'NewToArrayTest4'
	  }

	  function removeLastArray() {
	  	  myList.splice(myList.length - 1 ,1)
	  }

	  function ageChecker() {
	  	  if(personObject.age >= 20 && personObject.age <= 40) {
		  	  console.log(personObject.name)
		  }
	  }

	  function fizzBuzz() {
	  for(var x = 0; x < 100; x++)
	  {
	  	  if(x % 3 == 0 && x % 5 == 0) {
		  	  console.log("FizBuzzz")
		  }
		  else if(x % 3 == 0) {
		  	  console.log("Fizz")
		  }
		  else if(x % 5 == 0) {
			  console.log("Buzz")
		  }
		  else {
		  	  console.log(x)
		  }
	  }
	  }

	  function reachTarget(num1) {
	  var z = 0;
	  var x = num1

	  while(x != 1) {
	  if (x % 3 == 0) {
	  	  x = x / 3
		  console.log(x)
		  z++
	  }
	  else if(x % 3 >= 4) {
	  x--
	 // z++
	  }
	  else if(x % 3 <= 2) {
	  x++
	  //z++
	  }

	  }
	  console.log("Number of attempts: " + z)
	  }

	  function createParagraphTag() {
	  var x = document.createElement("paragraphTag")
	  x.setAttribute("test1", "x")
	  var example = document.getElementById("demo")
	  example.appendChild(x)
	  }


	  function updateParagraphTag() {

	  }


	  function deleteParagraphTag() {
	  var x = document.createElement("paragraphTag")
	  x.setAttribute("test1", "paragraphTag")
	  var appending = document.getElementById("test1")
	  appending.appendChild(x)
	  }


	  function jsonFunction() {
	  	  var requestURL = 'https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/example.json'; 

		  var request = new XMLHttpRequest(); 
		  request.open('GET', requestURL);
		  request.responseType = 'json' 
		  request.send(); 

		  request.onload = function() { 
		  var superHeroes = request.response; 
		  console.log(superHeroes)
		  superHeroes.members.forEach(function(element){console.log(element);})
		  }


	  }


	  function jsonFunction2(json) {
	  	  var requestURL = 'https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/example.json'; 

		  var request = new XMLHttpRequest(); 
		  request.open('GET', requestURL);
		  request.responseType = 'json' 
		  request.send(); 

		  request.onload = function() { 
		  var superHeroes = request.response; 
		  //console.log(superHeroes)
		  superHeroes[json].forEach(function(element){console.log(element);})
		  }


	  }


	  var carList = [];
	  var id = 0;
	  var repairCar
	  var RepairCar
	  var numberOfRepair




	  function createCarForRepair() {
	  
	  repairCar= document.getElementsByName("carText")[0].value;
	  RepairCar= document.getElementsByName("repairCostText")[0].value;
	  numberOfRepair= document.getElementsByName("amountOfFaultsText")[0].value;


	  if(numberOfRepair === 0) {
	  	  console.log("No issues")
	  }
	  else {

	  var Car = {
	  	  carID: id,
		  car: repairCar,
		  repairCost: RepairCar,
		  noRepair: numberOfRepair,
	  }
	  addCarToGarage(Car)
	  console.log("...")
	  
	  }

	  id++

	  }

	  function addCarToGarage(Car) {
	  carList.push(Car)
	  console.log("New car added to the garage")
	  }

	  function garageList() {
	  	  carList.forEach(function(test){console.log(test);})
	  }

	  function removeCar(ID) {
	  	  carList.splice(ID, 1);
		  console.log("Car removed")
	  }

	  function emptyGarage() {
	  	  carList.splice(0, carList.length);
		  console.log("Garage emptied")
	  }


	  function commandInterface(commandText) {
	  
	  var stringSplit = commandText.split(" ");
	  
	  switch(stringSplit[0]) {
	  	  case 'add' : createCarForRepaid();
		  break;
		  case 'output' : garageList();
		  break;
		  case 'check out' : removeCar(stringSplit[2]);
		  break;
		  case 'empty' : emptyGarage();
		  break;
		  default: console.log("Unknown Command Try Again!!!")
	  }


	  }


	  function rektangle(input, number) {
	  var w = 0;
	  var z = input.lenght * number;

	  if(w === 0 || w === input.length) {
	  	  document.write(input + "<br>")
		  number++
		  w++
	  }
	  else {
	  document.write(input + "<br>")
	  w++
	  }

	  }


	  function test(input, number) {
	  



	  }


	  function pokemon(attacker, defender) {
	  	  var defPok = defender.split(" ");
		  var atPok = attacker.split(" ");
		  var totalPokemonDamage = 0;

		  atPok.forEach(function(atPok){
		  //check if the atkpok exists in the tester object
		  //if it does sift through that
		  if(tester[atPok]) {

			  totalPokemonDamage = calMultiplier(tester[atPok],defPok);
			  console.log("Damage multiplier:- " + totalPokemonDamage)
		  }else{
		  	//else do this way
		  	var requestURL = 'http://pokeapi.co/api/v2/type/' + atPok;
		  	var request = new XMLHttpRequest(); 
		  	request.open('GET', requestURL);
		  	request.responseType = 'json' 
		  	request.send(); 
		  	request.onload = function() { 
		  	var urlResponse = request.response;
		  	tester[atPok] = urlResponse
		  	totalPokemonDamage = calMultiplier(urlResponse, defPok);
			  console.log("Damage multiplier:- " + totalPokemonDamage)
		  }

		  
		
		  }
		  
		  })
	  }
		function calMultiplier(res,defPok){
			totalPokemonDamage = 0 ;
		  	defPok.forEach((defPok)=>{
			  	totalPokemonDamage += res.damage_relations.half_damage_to.filter((obj)=>defPok==obj.name).length * 0.5
			  	//totalPokemonDamage += urlResponse.damage_relations.no_damage_to.filter((obj)=>defPok==obj.name).length * 0
			  	totalPokemonDamage += res.damage_relations.double_damage_to.filter((obj)=>defPok==obj.name).length * 2
		  	})
			  return totalPokemonDamage;
		  }


	  //---------------------------------------------------------------------------------------------------------------------------------------

	  function pokemon2(attacker, defender,callback) {
	  	  var defPok = defender.split(" ");
		  var atPok = attacker.split(" ");
		  var pokemonDamage = 0;
		  var totalPokemonDamage = 0;
		  var requestURL = 'http://pokeapi.co/api/v2/type/' + atPok;
		  var request = new XMLHttpRequest(); 
		  request.open('GET', requestURL);
		  request.responseType = 'json' 
		  request.send(); 


		  defPok.forEach(function(defPok){
		  request.onload = function() { 
		  var urlResponse = request.response;

		  atPok.forEach(function(atPok){
			  urlResponse.damage_relations.half_damage_from.forEach((test2) => {if (atPok == test2.name) {pokemonDamage = 0.5}})
			  urlResponse.damage_relations.no_damage_from.forEach((test2) => {if(atPok === test2.name) {pokemonDamage = 0}})
			  urlResponse.damage_relations.double_damage_from.forEach((test2) => {if(atPok === test2.name) {pokemonDamage = 2}})
			  totalPokemonDamage += pokemonDamage;

		  })

		callback("Damage multiplier:- " + totalPokemonDamage); 

		  }

		  })

	  }
	  pokemon2("fire","water",(a)=> console.log(a))

	  //--------------------------------------------------------------------------------------------------------------------------------------


	  </script>
<p> Javascript Exercise 2 </p> 
<form> 
<input type="text" name="squarenumber" style="width:50px">
<input type="button" onclick="squareOfNumber(squarenumber.value)" value="Square number" />
</form>

<form> 
<input type="text" name="sum1" style="width:50px">
<input type="text" name="sum2" style="width:50px">
<input type="text" name="sum3" style="width:50px">
<input type="button" onclick="sumOfValues(sum1.value, sum2.value, sum3.value)" value="Sum of 3 numbers" />
</form>

<form> 
<input type="button" onclick="increaseAge()" value="Age Increase" />
</form> 

<form> 
<input type="button" onclick="outputPerson()" value="Function" />
</form> 

<p> Javascript Exercise 3 </p> 
 <form> 
<input type="button" onclick="stringToUpper()" value="toUpperCase" />
</form> 
 <form> 
<input type="button" onclick="printArray()" value="Array" />
</form> 
 <form> 
<input type="button" onclick="addToArray()" value="AddToArray" />
</form> 
 <form> 
<input type="button" onclick="removeLastArray()" value="RemoveFromArray" />
</form> 

<p> Javascript Exercise 4 </p> 
 <form> 
<input type="button" onclick="ageChecker()" value="Age Checker" />
</form> 

<p> Javascript Exercise 5 </p> 
 <form> 
<input type="button" onclick="fizzBuzz()" value="Fizz Buzz" />
</form>

<p> Javascript Exercise 6 </p> 
 <form> 
<input type="text" name="num1" >
<input type="button" onclick="reachTarget(num1.value)" value="Reach Target" />
</form>

<p> Javascript Exercise 7 </p> 
 <form> 
<input type="button" onclick="createParagraphTag()" value="Create Paragraph Tag" />
</form>
 <form> 
<input type="button" onclick="updateParagraphTag()" value="Update Paragraph Tag" />
</form>
 <form> 
<input type="button" onclick="deleteParagraphTag()" value="Delete Paragraph Tag" />
</form>

<p> Javascript Exercise 8 </p> 
 <form> 
<input type="button" onclick="jsonFunction()" value="JSON request" />
</form>

<p> Javascript Exercise 9 </p> 
 <form> 
 <input type="text" name="json">

<input type="button" onclick="jsonFunction2(json.value)" value="JSON request 2" />
</form>

<p> Javascript Exercise 10 </p> 
 <form> 
 <input type="text" name="carText" placeholder="Car">
 <input type="text" name="repairCostText" placeholder="Repair Cost">
 <input type="text" name="amountOfFaultsText" placeholder="Number of Faults">
 </form>
  <form> 
<input type="button" onclick="createCarForRepair()" value="Add Car" />
<input type="button" onclick="garageList()" value="Garage list" />
</form>
<form> 
<input type="text" name="removeCarID" placeholder="ID for car to remove">
<input type="button" onclick="removeCar(removeCarID.value)" value="Remove Car" />
</form>

 <form> 
<input type="button" onclick="emptyGarage()" value="Empty Garage" />
</form>


<p> Javascript Exercise 10 </p> 
<form> 
<input type="text" name="interfaceCommand" placeholder="Enter Command">
<input type="button" onclick="commandInterface(interfaceCommand.value)" value="Submit" />
</form>

<p> Pokemon Game </p> 
<form> 
<input type="text" name="attacker" placeholder="Attacker">
<input type="text" name="defender" placeholder="Defender">
<input type="button" onclick="pokemon(attacker.value, defender.value)" value="Run" />
</form>

<p> Pokemon Game version 2 </p> 
<form> 
<input type="text" name="attacker" placeholder="Attacker">
<input type="text" name="defender" placeholder="Defender">
<input type="button" onclick="pokemon2(attacker.value, defender.value)" value="Run" />
</form>
</body>
</html>